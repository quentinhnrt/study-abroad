const sqlite3 = require("sqlite3").verbose();

let db = new sqlite3.Database(
  "./data/ecoalDB",
  sqlite3.OPEN_READWRITE | sqlite3.OPEN_CREATE,
  (err) => {
    if (err) {
      console.error(err.message);
    } else {
      console.log("Connected to the ecoal database.");
    }
  }
);

let query = [
  "PRAGMA foreign_keys = ON",
  "DROP TABLE IF EXISTS article",
  "DROP TABLE IF EXISTS tag",
  "DROP TABLE IF EXISTS article_tag",
  "CREATE TABLE users(id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, password TEXT NOT NULL, admin INTEGER)",
  "CREATE TABLE article (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT NOT NULL, content TEXT NOT NULL, thumbnailURL TEXT, mediaType TEXT, mediaURL TEXT, leadStory INTEGER)",
  "CREATE TABLE tag (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL)",
  "CREATE TABLE article_tag (id INTEGER PRIMARY KEY AUTOINCREMENT, idArticle INTEGER REFERENCES article(id), idTag INTEGER REFERENCES tag(id))",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Erasmus: What is it?', '<p>Erasmus+ is the European program that supports education, training, youth and sport. It has an estimated budget of €26.2 billion. This is almost double the funding of the previous program (2014-2020).</p><p>The 2021-2027 programme places a strong emphasis on social inclusion, ecological and digital transitions, and promoting the participation of young people in democratic life.</p><p>It supports the priorities and activities set out in the European Education Area, the Digital Education Action Plan and the Skills Agenda for Europe.</p><p>The program also supports: </p><ul><li>the European Pillar of Social Rights</li><li>implements the EU Youth Strategy 2019-2027</li><li>develops the European dimension in sport</li></ul><h4>About Opportunities</h4><p>Erasmus+ offers opportunities for mobility and cooperation in:</p><ul><li>higher education</li><li>vocational education and training</li><li>school education (including early childhood education and care)</li><li>adult education</li><li>youth</li><li>sports</li></ul>', 'europe.jpg', '', '', 1)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('How to prepare for an Erasmus trip?', '<p>Spending a year abroad on Erasmus can be a fantastic adventure. Yet figuring out how to get started with budgeting, accommodation, and financing isn’t always simple. To give you a leg up, we have put together some tips and tricks for managing your first Erasmus year like a pro. Read on to learn everything you need to know about preparing for your time abroad.</p><h4>What you need to know before you leave</h4><p>Once your Erasmus+ application has been accepted, it’s time to start planning your time abroad. Here are a few tips to make the process easier:</p><ul><li><strong>Take the language tests well in advance</strong> (they’re valid for two years). That way you won’t have to worry about taking them just before you leave.</li><li>If you’re going to Europe, <strong>apply for your European health insurance card</strong> so that your medical costs will be covered if you fall ill.</li><li><strong>Scan all your IDs and official documents</strong> and save a digital copy. This way, if they’re lost or stolen, you’ll always have a way to verify your identity, even on the other side of the world.</li><li>If the currency of your destination country isn’t the same as yours, we recommend <strong>getting some money in the local currency</strong> before you leave.</li></ul><h4>How to find accommodation</h4><p>Looking for accommodation while on Erasmus can be stressful and confusing. Should you look for lodging before you leave or once you’re there? Should you live in a shared house, a private apartment, or a student flat? Here are our tips for finding accommodation during your Erasmus period:</p><ul><li>If you’re an anxious traveler, we suggest you look for accommodation <strong>before you leave</strong>. <strong>University dorms</strong> usually have rooms available for international students, and you can book several months in advance.</li><li>Join <strong>student Facebook groups</strong> in the city where you’ll be staying and post messages to say that you’re looking for accommodation.</li>pat groups</strong><li>Search local <strong>housing and flat sharing websites</strong>.</li><li>Research the <strong>average rent in the city</strong> so you don’t get ripped off.</li><li>Prioritize areas that offer <strong>easy access</strong> to your university.</li></ul>','packing.jpg', '', '', 1)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Finding Peace in Ireland', '<p>When moving from your home country to study and live in Ireland, most of the time you will have done some research and have a vague idea of what you’re getting yourself into – but you can never fully prepare yourself for what lies ahead. Luana from Indonesia found herself very out of her comfort zone when she came to Ireland but has since settled, adjusted and found peace on the Emerald Isle…</p><p>Hello! My name is Luana Kimley and this is my second year at Dundalk Institute of Technology. The main reason I chose to study in Ireland is that because it is the only English speaking country in the European Union, it is affordable, and they also offer an interesting course with work placement.</p><p>I lived with my parents all my life so getting out of my comfort zone was quite difficult for me. However, on the induction day, the lecturers and students from the upper classes were so supportive that I felt I wasn’t alone. Being alone was my biggest fear when I first arrived in Ireland. But, day after day, I got to meet new people and make friends, and I realised that there was nothing to fear.</p><p>I live in a rented house with 3 other international students. Each of us has an individual room and we share a bathroom and a kitchen. Having my own room was so essential for me because I love to have a personal space. In Ireland, in most of the student accommodations, people have a chance to have a room by themselves.</p><p>The one fact that I don’t really love about Ireland is the weather. I come from a country that is 30 degrees celsius everyday, so Ireland is too cold for me. I wear the thickest clothes I have when the people who are used to the weather only seem to wear a t-shirt! The best advice I could give is to prepare for the cold if you’re coming from a hot country…</p><p>In Ireland, everywhere is green. I knew that it was full of nature before I came, but it shocked me anyway. I wasn’t expecting that it would be quite this green. In the city I am from, Jakarta, there are just buildings in the cities with some artificial parks. However, in Ireland, it is pretty easy to find green areas even in the city or town centres. One of my hobbies is taking a walk around the streets, it clears my mind and is good for some exercise. Thus, I find Ireland to be a very peaceful place to live.</p>', 'ireland.jpg', 'video/mp4', 'dkit.MOV', 0)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Why go on Erasmus?', '<p>The Erasmus program, now called Erasmus+ is a European Union program that gives young people the chance to live and study abroad at partner universities. Internships abroad are also part of the program.</p><p>Going abroad for an Erasmus year is an experience unlike any other, and one you’ll likely remember forever. There are numerous benefits to studying abroad with the program. Here are just a few in a long list:</p><ul><li>Improving your language skills through cultural immersion</li><li>Exploring other cultures and opening your mind to new ways of thinking</li><li>Gaining self-confidence by finding your way around in a completely foreign environment</li><li>Meeting new friends from across the world</li><li>Boosting your CV for future career opportunities</li><li>Tackling a new challenge</li></ul><p>If you’re up for exploring the world with Erasmus+, then you’ll need to thoroughly prepare so as to avoid any missteps along the way. So before your departure, review our tips on how to get ready for your next adventure.</p>','europe_map.jpg', '', '', 0)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Where to go for your studies?', '<p>When students look for their destination for Erasmus they have to take into account the cost of living, the safety of the city, the quality and ease of public transport, and finally the quality of the nightlife. All this is very important because besides studying, students do these projects to have fun and live new experiences.</p><p>Some of the best countries to do Erasmus are:</p><h4>Spain/h4><p>Barcelona is number one among most of European students for the Erasmus Exchange program. The city is lively, sparkling, surprising, Barcelona is an incredible city that marks all students and travelers who have the opportunity to stay there. Catalonia is a very beautiful region; it is famous  for its history, its culture but also its gastronomy.</p><h4>Portugal</h4><p>Portugal is with Spain one of the best countries for your Erasmus exchange program. Portugal is a very welcoming country, rich in its very important past that has marked the whole European history but also that of the whole world. Portugal is also oriented towards its future ; it  welcomes many students but also Start ups and international companies. Come and live your Erasmus experience in one of the most beautiful cities in Europe.</p><h4>Germany</h4><p>Berlin is a city full of contrasts. It is both classical and modern, underground and institutional, artistic and bureaucratic. The capital of Germany is a city that leaves no one indifferent. Choose your Fachhochschule, that is to say your university and discover this incredible city, the equivalent of New York in Europe.</p><h4>The Netherlands</h4><p>If you want to do your Erasmus in a world-renowned University and discover one of the most cosmopolitan cities in Europe, Amsterdam is for you. Amsterdam, in addition to being a very beautiful city, is a unique destination mixing hundreds of nationalities, cultures, innovative companies as well as start-ups from all over the world. The reputation of Amsterdam is not overblown, it is a perfect city for an Erasmus year.</p><h4>Czech Republic</h4><p>Prague is an exciting and unique city in Europe. You will be charmed by its very special atmosphere. Life is cheaper there: you can save money on your rent and offer you unforgettable moments in Prague cafés or in the bookshops and museums of the capital of the Czech Republic.</p>','erasmus.png', '', '', 0)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Skills you gain from studying abroad', '<h4>1. Intercultural communication and language</h4><p>Whether the country you are studying abroad in shares the same native language as you or not, we can guarantee that there will be some communication and language differences. While you’re studying abroad, you will gain intercultural communication skills from interacting with people from different cultures.</p><h4>2. Cultural awareness</h4><p>Cultural awareness is a skill achieved from studying abroad when you really make an effort to understand the new country and its culture that you’re living in. Being culturally sensitive is a crucial part to being able to adapt to, or being flexible with, foreign surroundings.</p><h4>3. Self-awareness</h4><p>As you become more self-aware, you may start to challenge your own beliefs, and develop new perspectives on things. Personal prejudices and biases you have may also surface. Self-awareness is a special trait to have, because it shows that you can recognize your strengths and weaknesses, likes and dislikes, and things that matter to you.</p><h4>4. Adaptability</h4><p>Learning the local language, trying cultural dishes, understanding laws, customs, learning how to use money and how to use different transportation systems, are just a few things you’ll have to learn and to which you’ll have to adapt.</p><h4>5. Confidence</h4><p>Studying abroad can definitely help you find and build a sense of confidence you knew you always had, but that was hiding under the surface. Unless you find yourself going with a big group of friends or with a lot of people from your school, studying abroad gives you somewhat of a fresh start. You can choose who you want to be.</p><h4>6. Independence</h4><p>A big lesson and skill learned while studying abroad is independence. While it’s possible you’re living and traveling with people you know, you will find that there are many times when you have to learn how to navigate your new lifestyle all on your own.</p><p>Living abroad in a different country with unfamiliar cultural norms can be daunting. But, you will learn how to be independent by facing and working through challenges (and life) on your own, and you’ll become more comfortable with your potential.</p>','skills.jpg', '', '', 1)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Erasmus Mundus Joint Masters Scholarships', '<h4>Applicant profile</h4><p>Students at master’s level from all over the world can apply. You must have a bachelor’s degree or be in your last year of bachelor studies and graduate before the master’s programme starts.</p><p>You may also apply if you demonstrate a bachelor’s equivalent level of learning. This must be officially recognised, according to national legislation and practices, in the degree awarding country.</p><h4>About Erasmus Mundus Joint Masters scholarships</h4><p>Erasmus Mundus Joint Masters are high-level and integrated study programmes, at master level. They are designed and delivered by an international partnership of higher education institutions (HEI). They involve at least three HEI from three different countries, of which at least two must be EU Member States and third countries associated to the Programme.</p><p>By supporting these jointly recognised Master degrees, the EU aims at fostering excellence and internationalisation of the participating institutions. There are also scholarships for students to take part in these prestigious programmes; the masters themselves offer them to the best-ranked applicants worldwide.</p><p>Scholarships cover the cost of a student’s participation in the programme, travel and a living allowance.</p><h4>Activities and outcomes</h4><p>The programme covers the period of your study, research, placement activities, thesis preparation and defence, in line with the requirement of the joint Master. The latter comprises at least 2 study periods in 2 countries, which must be different from your country of residence. Erasmus Mundus Joint Masters offer different study tracks to meet this condition.</p><p>Duration of the masters: 1 to 2 academic years (60, 90 or 120 ECTS credits)</p><p>Type of degree awarded: either a joint degree (i.e. one single degree certificate issued on behalf of at least two higher education institutions) or multiple degrees (i.e. at least two degree certificates issued by two higher education institutions of the consortium)</p>','erasmus_mundus.jpeg', '', '', 0)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Live in the Country of Cristiano Ronaldo', '<p>Portugal is one of the European countries that receives the most students and tourists. In addition, the number of students in the country every year has been increasing. The different cultures, ethnicities and religions make Portugal a country of the world, a country able to welcome a person from anywhere in the world.</p><p>The reasons that make people look for Portugal, whether in Lisbon, Porto, Braga, Aveiro, Coimbra, or any other city, are many, from safety, quality of education, cost of living and many other reasons.</p><p>We will now take a deeper look into some of the main reasons why Portugal is a good choice:</p><h4>Low cost of living</h4><p>To begin with, destination options with low cost of living is one of the important points for those who want to do an exchange program and don’t have a high budget. Portugal is one of these alternatives and it is much cheaper to live there than in Spain, for example. To have an idea, the country’s capital, Lisbon, is known as one of the cheapest in Europe.</p><p>Besides the low cost of tuition fees in public and private universities, the cost of transportation, food, leisure and other points, when added together, make it much more advantageous to choose Portugal than other countries in Europe.</p><h4>Quality teaching</h4><p>Another reason to choose Portugal as an study destination is for its quality education. The country is known for having a qualified network of public and private universities that have international recognition, such as the University of Coimbra. Besides the famous Universidade de Lisboa and Universidade do Porto, the Universidade do Minho in Braga and the Universidade de Aveiro also stand out.</p><p>Portugal was considered the 22nd best educational system in the world. From there you can already conclude that the quality of teaching is a priority.</p><h4>Security</h4><p>Portugal is among the countries that have quality public security. This is one of the reasons that attract students to the country every year, as it has very low crime rates. In Portugal you can walk the streets alone at any time of the day without any fear. You can go out at night and have fun without the risk of ending the night in hospital.</p>','LiveinPortugal.jpg', 'audio/mp3', 'musicPortugal.mp3', 0)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('How Much Does it Cost to Study in Europe?', '<p>Want to study in Europe, but unsure about the costs? Read on to discover the average costs of tuition fees and living expenses in some European countries!</p><h4>France</h4><p>Average annual tuition fees: EU/EEA: €170 for for most undergraduate programs at public universities; €243 for most master’s programs, and €380 for doctoral programs. Private universities charge considerably more.</p><p>Non-EU/EEA students starting their course in 2019 will pay €2,770 per year for undergraduate programs and €3,770 per year for master’s  degrees. PhDs cost the same for all students at €380.</p><p>Average living costs: €9,900 per year</p><h4>Germany</h4><p>Average tuition fees: Free for all students at undergraduate and PhD level at public universities excluding those in Baden-Württemberg where non-EU students pay tuition fees of €3,000 per year. €20,000 per year for most non-consecutive master’s programs elsewhere in Germany.</p><p>Average living costs: €10,200 a year</p><h4>Ireland</h4><p>Average tuition fees: Free for EU/EEA students at undergraduate level (with a fee of €3,000 for student services); from €9,750 per year for non-EU students at undergraduate level. From €4,000 year for EU postgraduate students, and from €4,000 per year for non-EU students at postgraduate level.</p><p>Average living costs: €12,000 per year</p><p>Ireland’s varied selection of higher education institutions combines with historic cities, beautiful countryside and unique culture to make the country a highly attractive study destination. If EU students want to study in Ireland, they’ll only need to pay a charge of €3,000 to cover non-tuition student services.</p><h4>Italy</h4><p>Average annual tuition fees: €950-4000 at undergraduate level at public universities; €1,500 at postgraduate level.</p><p>Average living costs: €12,000 per year</p><p>Although private universities in Italy charge up to €20,000 a year, public universities in Italy are markedly cheaper. International students are eligible for the same scholarships and grants as local students, assessed by academic merit or financial need. This applies to scholarships, student loans, housing assistance, meal tickets and fee waivers.</p>','costs.jpg', '', '', 0)",
  "INSERT INTO article (title, content, thumbnailURL, mediaType, mediaURL, leadStory) values ('Experiencing the French Studies', '<p>Students attending a France university are exposed to the amazing French culture in their daily student life. While studying, students can look forward to a wonderfully interactive environment that brings students together from across the globe. With the many different people from all around the world attending college in France, it is certainly a new experience that can provide you with a plethora of fun and adventure. It isn’t every day that we get the chance to come together with such a diverse group of people, so it is a time to learn and grow as a person while you learn so much.</p><p>Universities organize shows and hold conferences, seminars, parties and sporting and other outdoor activities as part of the student lifestyle. While the things that are put together will vary according to the college that you have chosen to attend, you can be certain there is a calendar filled with activities that can entertain all. Colleges want their students to learn but they also want them to have a great time in the process. Life cannot be serious all of the time. All of the activities planned by colleges and universities offer plenty of fun for you.</p><p>Students can certainly enjoy living their life in France as a student. There is never a dull day in the life of students who attend colleges in France. Whether you are at school studying and learning or at home ready to get out and experience the wonders of the country, you can always have a menu full of wonderful things to choose from.</p><p>While you are in France it is important that you take advantage of as much of the culture as you can. It is truly amazing and there is so very much that you can experience. It would be such a shame to leave and not have enjoyed it all. While it is true that you need to take the time to study and learn what you’ve come to learn, this doesn’t mean that there is not still plenty of time to enjoy yourself, too.</p><p>It is essentially up to you as to how you will live out your day to day life while you attend college in France. This is just a generalised look at what you can expect. Another consideration that you should keep in mind is that your life while attending school can change in the blink of an eye. Each day can be filled with something new and exciting.</p>','france_thumbnail.png', 'image', 'france_media.png', 0)",
  "INSERT INTO tag (name) values ('experience')",
  "INSERT INTO tag (name) values ('cost')",
  "INSERT INTO tag (name) values ('skills')",
  "INSERT INTO tag (name) values ('preparation')",
  "INSERT INTO tag (name) values ('places')",
  "INSERT INTO tag (name) values ('Erasmus')",
  "INSERT INTO tag (name) values ('scholarships')",
  "INSERT INTO tag (name) values ('Ireland')",
  "INSERT INTO tag (name) values ('Portugal')",
  "INSERT INTO tag (name) values ('France')",
  "INSERT INTO article_tag (idArticle, idTag) values (1,6)",
  "INSERT INTO article_tag (idArticle, idTag) values (2,4)",
  "INSERT INTO article_tag (idArticle, idTag) values (2,6)",
  "INSERT INTO article_tag (idArticle, idTag) values (3,8)",
  "INSERT INTO article_tag (idArticle, idTag) values (3,1)",
  "INSERT INTO article_tag (idArticle, idTag) values (4,6)",
  "INSERT INTO article_tag (idArticle, idTag) values (5,6)",
  "INSERT INTO article_tag (idArticle, idTag) values (5,9)",
  "INSERT INTO article_tag (idArticle, idTag) values (6,3)",
  "INSERT INTO article_tag (idArticle, idTag) values (7,7)",
  "INSERT INTO article_tag (idArticle, idTag) values (7,6)",
  "INSERT INTO article_tag (idArticle, idTag) values (8,9)",
  "INSERT INTO article_tag (idArticle, idTag) values (8,1)",
  "INSERT INTO article_tag (idArticle, idTag) values (9,2)",
  "INSERT INTO article_tag (idArticle, idTag) values (9,8)",
  "INSERT INTO article_tag (idArticle, idTag) values (9,10)",
  "INSERT INTO article_tag (idArticle, idTag) values (10,10)",
  "INSERT INTO article_tag (idArticle, idTag) values (10,1)",
  "INSERT INTO users (name, password, admin) values ('admin', 'password', 1)",
];

db.serialize(() => {
  query.forEach((item) => {
    db.run(item, (err) => {
      if (err) return console.error(err.message);
      console.log(item + ` done`);
    });
  });
});

db.close((err) => {
  if (err) {
    return console.error(err.message);
  }
  console.log("Close the database connection.");
});
